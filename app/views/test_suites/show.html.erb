<p id="notice"><%= notice %></p>

<div class="container">
  <div class="row">
    <h1><%= @test_suite.name.titleize %></h1>
  </div>

  <div class="row">
    <div class="card">
      <div class="card-header text-sm-right">
        <%= link_to 'Run', run_test_suite_path(@test_suite), :class => 'btn btn-primary' %>
      </div>
      <div class="card-block">
        <%= form_for @test_suite do |f| %>
          <div class="form-group row">
            <%= f.label "Rake Task", :class => "col-sm-2 col-form-label" %>
            <div class="col-sm-8">
              <%= f.select(:task_name, ::RakeTestHelper.list_tests, {} ,:class => "form-control") %>
            </div>
            <div class="col-sm-2 text-sm-center">
              <%= submit_tag("Update", :class => 'btn btn-secondary') %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="card">
      <div class="card-block">
        <%= render partial: 'widgets/pass_fail_graph', locals: {test_suite_id: @test_suite.id} %>
      </div>
      <div class="card-footer text-sm-right">
        <%= link_to "History", test_suite_test_suite_runs_path(@test_suite.id) %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="card">
      <div class="card-block">
      <h4 class="card-title">Test Cases</h4>
      <%= render 'widgets/test_cases' %>
      </div>
    </div>
  </div>
